{% extends "base.html" %}

{% block title %}Certificate - ReddyGo ML Bootcamp{% endblock %}

{% block extra_head %}
<style>
    @media print {
        nav, footer, .no-print {
            display: none !important;
        }
        body {
            background: white;
        }
    }

    .certificate {
        background: linear-gradient(135deg, #ffffff 0%, #f9fafb 100%);
        border: 20px solid;
        border-image: linear-gradient(135deg, #667eea 0%, #764ba2 100%) 1;
    }

    .gold-border {
        border-image: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%) 1;
    }

    .silver-border {
        border-image: linear-gradient(135deg, #c0c0c0 0%, #e8e8e8 100%) 1;
    }

    .bronze-border {
        border-image: linear-gradient(135deg, #cd7f32 0%, #d4a574 100%) 1;
    }
</style>
{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto">
    <!-- Certificate Card -->
    <div class="certificate {{ color }}-border rounded-lg p-16 mb-8 shadow-2xl text-center">
        <!-- Logo/Header -->
        <div class="mb-8">
            <div class="text-6xl font-bold gradient-bg bg-clip-text text-transparent mb-2">
                ReddyGo
            </div>
            <div class="text-xl text-gray-600">Machine Learning Bootcamp</div>
        </div>

        <!-- Certificate Title -->
        <div class="mb-8">
            <h1 class="text-5xl font-bold text-gray-800 mb-4">Certificate of Achievement</h1>
            <div class="w-32 h-1 bg-gradient-to-r from-purple-500 to-blue-500 mx-auto"></div>
        </div>

        <!-- Recipient Info -->
        <div class="mb-8">
            <p class="text-xl text-gray-600 mb-4">This is to certify that</p>
            <p class="text-4xl font-bold text-gray-800 mb-4">
                {% if session.get('user_name') %}
                    {{ session.get('user_name') }}
                {% else %}
                    [Your Name]
                {% endif %}
            </p>
            <p class="text-xl text-gray-600">has successfully completed the</p>
        </div>

        <!-- Course Details -->
        <div class="mb-8">
            <h2 class="text-3xl font-bold text-purple-600 mb-4">
                10-Day ML/AI Intensive Bootcamp
            </h2>
            <p class="text-lg text-gray-700 max-w-3xl mx-auto">
                Demonstrating proficiency in Python, NumPy, Pandas, Machine Learning,
                Deep Learning, PyTorch, Computer Vision, NLP, and MLOps
            </p>
        </div>

        <!-- Achievement Level -->
        <div class="mb-8">
            <div class="inline-block px-8 py-4
                        {% if level == 'Outstanding' %}bg-gradient-to-r from-yellow-400 to-yellow-600
                        {% elif level == 'Distinction' %}bg-gradient-to-r from-gray-300 to-gray-500
                        {% elif level == 'Certified' %}bg-gradient-to-r from-yellow-700 to-yellow-900
                        {% else %}bg-gray-400
                        {% endif %}
                        text-white rounded-full shadow-lg">
                <div class="text-sm font-semibold opacity-90">Achievement Level</div>
                <div class="text-3xl font-bold">{{ level }}</div>
            </div>
        </div>

        <!-- Final Score -->
        <div class="mb-8">
            <div class="max-w-md mx-auto">
                <div class="flex items-center justify-between text-lg text-gray-700 mb-2">
                    <span class="font-semibold">Final Exam Score:</span>
                    <span class="text-2xl font-bold
                                 {% if final_score >= 95 %}text-yellow-500
                                 {% elif final_score >= 85 %}text-gray-500
                                 {% else %}text-yellow-700
                                 {% endif %}">
                        {{ final_score|int }}%
                    </span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-4">
                    <div class="h-4 rounded-full
                                {% if final_score >= 95 %}bg-yellow-500
                                {% elif final_score >= 85 %}bg-gray-400
                                {% else %}bg-yellow-700
                                {% endif %}"
                         style="width: {{ final_score }}%">
                    </div>
                </div>
            </div>
        </div>

        <!-- Skills Acquired -->
        <div class="mb-8">
            <h3 class="text-xl font-bold text-gray-800 mb-4">Skills Mastered:</h3>
            <div class="grid grid-cols-2 md:grid-cols-5 gap-4 max-w-4xl mx-auto">
                <div class="p-3 bg-purple-50 rounded-lg">
                    <div class="font-semibold text-purple-700">Python</div>
                </div>
                <div class="p-3 bg-blue-50 rounded-lg">
                    <div class="font-semibold text-blue-700">NumPy</div>
                </div>
                <div class="p-3 bg-green-50 rounded-lg">
                    <div class="font-semibold text-green-700">Pandas</div>
                </div>
                <div class="p-3 bg-yellow-50 rounded-lg">
                    <div class="font-semibold text-yellow-700">scikit-learn</div>
                </div>
                <div class="p-3 bg-red-50 rounded-lg">
                    <div class="font-semibold text-red-700">PyTorch</div>
                </div>
                <div class="p-3 bg-indigo-50 rounded-lg">
                    <div class="font-semibold text-indigo-700">Deep Learning</div>
                </div>
                <div class="p-3 bg-pink-50 rounded-lg">
                    <div class="font-semibold text-pink-700">Computer Vision</div>
                </div>
                <div class="p-3 bg-teal-50 rounded-lg">
                    <div class="font-semibold text-teal-700">NLP</div>
                </div>
                <div class="p-3 bg-orange-50 rounded-lg">
                    <div class="font-semibold text-orange-700">MLOps</div>
                </div>
                <div class="p-3 bg-cyan-50 rounded-lg">
                    <div class="font-semibold text-cyan-700">Transformers</div>
                </div>
            </div>
        </div>

        <!-- Date and Signature -->
        <div class="flex items-center justify-between mt-12 pt-8 border-t-2 border-gray-200 max-w-3xl mx-auto">
            <div class="text-left">
                <div class="text-sm text-gray-500 mb-2">Date of Completion</div>
                <div class="text-lg font-bold text-gray-800">{{ completion_date }}</div>
            </div>

            <div class="text-right">
                <div class="text-3xl font-bold text-purple-600 mb-2">ReddyGo</div>
                <div class="text-sm text-gray-500">Platform Director</div>
            </div>
        </div>

        <!-- Certificate ID -->
        <div class="mt-8 text-sm text-gray-500">
            Certificate ID: RG-ML-{{ completion_date|replace(' ', '')|replace(',', '') }}-{{ level[:3]|upper }}
        </div>
    </div>

    <!-- Action Buttons -->
    <div class="flex justify-center space-x-4 mb-8 no-print">
        <button onclick="window.print()"
                class="px-8 py-3 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg transition">
            Print Certificate
        </button>
        <button onclick="downloadCertificate()"
                class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition">
            Download PDF
        </button>
        <a href="/"
           class="px-8 py-3 bg-gray-600 hover:bg-gray-700 text-white font-bold rounded-lg transition">
            Back to Dashboard
        </a>
    </div>

    <!-- Share Section -->
    <div class="bg-white rounded-xl shadow-lg p-8 text-center no-print">
        <h2 class="text-2xl font-bold text-gray-800 mb-4">Share Your Achievement! ðŸŽ‰</h2>
        <p class="text-gray-600 mb-6">Let others know about your ML/AI mastery</p>

        <div class="flex justify-center space-x-4">
            <a href="https://twitter.com/intent/tweet?text=I%20just%20completed%20the%20ReddyGo%20ML%20Bootcamp!"
               target="_blank"
               class="px-6 py-3 bg-blue-400 hover:bg-blue-500 text-white rounded-lg transition">
                Share on Twitter
            </a>
            <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://reddygo.com"
               target="_blank"
               class="px-6 py-3 bg-blue-700 hover:bg-blue-800 text-white rounded-lg transition">
                Share on LinkedIn
            </a>
        </div>
    </div>
</div>

<script>
function downloadCertificate() {
    // In a real implementation, this would generate a PDF
    alert('PDF download functionality will be implemented with a library like jsPDF or by generating server-side with ReportLab');
    // window.open('/download_certificate', '_blank');
}
</script>
{% endblock %}
